(this.webpackJsonpmathreveal1=this.webpackJsonpmathreveal1||[]).push([[0],{73:function(e,a,t){e.exports=t(92)},78:function(e,a,t){},86:function(e,a,t){},88:function(e,a,t){},89:function(e,a,t){},90:function(e,a,t){},91:function(e,a,t){},92:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(16),c=t.n(l),o=(t(78),t(79),t(10)),i=t(56),s=t.n(i),u=t(66),m=t(19),d=t(18),f=t(12),h=t(67),v=t(13),E=t(26),p=t(11);function g(e,a){var t=localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(n){return t}return a}function b(e,a){localStorage.setItem(e,JSON.stringify(a))}var y={he:{Player:"\u05e9\u05d7\u05e7\u05df",Missions:"\u05de\u05e9\u05d9\u05de\u05d5\u05ea",Toggle:"\u05db\u05d9\u05d1\u05d5\u05d9 / \u05d4\u05e4\u05e2\u05dc\u05d4",Rename:"\u05e9\u05e0\u05d4 \u05e9\u05dd","Remove Player":"\u05d4\u05e1\u05e8 \u05e9\u05d7\u05e7\u05df","Add Player":"\u05d4\u05d5\u05e1\u05e3 \u05e9\u05d7\u05e7\u05df",Name:"\u05e9\u05dd",OK:"\u05d0\u05d9\u05e9\u05d5\u05e8",Cancel:"\u05d1\u05d9\u05d8\u05d5\u05dc","Are you sure?":"\u05d4\u05d0\u05dd \u05d0\u05ea/\u05d4 \u05d1\u05d8\u05d5/\u05d7?","Current Player":"\u05e9\u05d7\u05e7\u05df \u05e0\u05d5\u05db\u05d7\u05d9",Images:"\u05ea\u05de\u05d5\u05e0\u05d5\u05ea",Add:"\u05d4\u05d5\u05e1\u05e3",Close:"\u05e1\u05d2\u05d5\u05e8",Remove:"\u05d4\u05e1\u05e8","Random Image Generators":"\u05de\u05d7\u05d5\u05dc\u05dc\u05d9 \u05e7\u05d9\u05e9\u05d5\u05e8\u05d9\u05dd \u05dc\u05ea\u05de\u05d5\u05e0\u05d4 \u05d0\u05e7\u05e8\u05d0\u05d9\u05ea"}};function C(e,a){if((a=a||g("language")||navigator.language.substr(0,2))&&y[a]){var t=y[a];return t[e]||t[e.toLowerCase()]||e}return e}var k=function(e){var a=e.show,t=e.title,n=e.body,l=e.onConfirm,c=e.onCancel;return r.a.createElement(p.a,{show:a,onHide:c,animation:!1},r.a.createElement(p.a.Header,{closeButton:!0},r.a.createElement(p.a.Title,null,C(t))),r.a.createElement(p.a.Body,null,C(n)),r.a.createElement(p.a.Footer,null,r.a.createElement(f.a,{variant:"secondary",onClick:c},C("Cancel")),r.a.createElement(f.a,{variant:"primary",onClick:l},C("OK"))))},O=t(41),j=t(42),S=t(34),w=t(49),N=t(47),I=t(22),x=function(e){Object(w.a)(t,e);var a=Object(N.a)(t);function t(e){var n;return Object(O.a)(this,t),(n=a.call(this,e)).state={value:e.defaultValue},n.show=e.show,n.title=e.title,n.onSave=e.onSave,n.onCancel=e.onCancel,n.handleChange=n.handleChange.bind(Object(S.a)(n)),n.handleSave=n.handleSave.bind(Object(S.a)(n)),n}return Object(j.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSave",value:function(e){e.preventDefault(),this.onSave(this.state.value)}},{key:"render",value:function(){return r.a.createElement(p.a,{show:!0,onHide:this.onCancel,className:"name-modal",animation:!1},r.a.createElement(p.a.Header,{closeButton:!0},r.a.createElement(p.a.Title,null,this.title)),r.a.createElement(p.a.Body,null,r.a.createElement(I.a,null,r.a.createElement(I.a.Group,{controlId:"formGroupEmail"},r.a.createElement(I.a.Control,{type:"text",placeholder:C("Name"),value:this.state.value,onChange:this.handleChange})))),r.a.createElement(p.a.Footer,null,r.a.createElement(f.a,{variant:"secondary",onClick:this.onCancel},C("Cancel")),r.a.createElement(f.a,{variant:"primary",onClick:this.handleSave},C("OK"))))}}]),t}(r.a.Component);var P=function(e){var a=e.players,t=e.player,l=e.onPlayersChange,c=e.onSwitchPlayer,i=Object(n.useState)(!1),s=Object(o.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(!1),f=Object(o.a)(d,2),h=f[0],p=f[1],g=Object(n.useState)(!1),b=Object(o.a)(g,2),y=b[0],O=b[1],j=function(e){return c(e.target.name)};return r.a.createElement("span",{className:"inline"},r.a.createElement(E.a,{title:C("Current Player")+": "+t.name,variant:"outline-secondary"},r.a.createElement(v.a.Item,{onClick:function(){return O(!0)}},C("Rename")),r.a.createElement(v.a.Item,{onClick:function(){a.length>1&&p(!0)}},C("Remove Player")),r.a.createElement(v.a.Item,{onClick:function(){return m(!0)}},C("Add Player")),r.a.createElement(v.a.Divider,null),a.map((function(e){return r.a.createElement(v.a.Item,{key:e.name,name:e.name,as:"button",onClick:j},e.name)}))),u&&r.a.createElement(x,{show:u,title:C("Add Player"),onCancel:function(){return m(!1)},onSave:function(e){e&&(a.push({name:e,missions:0}),l(),c(e),m(!1))}}),y&&r.a.createElement(x,{title:C("Rename")+" - "+t.name,defaultValue:t.name,onCancel:function(){return O(!1)},onSave:function(e){e&&(t.name=e,l(),O(!1))}}),r.a.createElement(k,{show:h,title:C("Remove Player")+" - "+t.name,body:C("Are you sure?"),onConfirm:function(){if(a.length>1){var e=a.indexOf(t);a.splice(e,1),c(a[0].name),l(),p(!1)}},onCancel:function(){return p(!1)}}))},R=t(69),A=t(60),T=t.n(A),X=(t(86),t(61)),Y=t(62);function B(e){return Math.floor(Math.random()*e)}var z,M,G,H,U=[5,10,20,50],D=[{char:"+",enabled:!0,range:50,calc:function(e,a){return e+a}},{char:"-",enabled:!0,range:20,calc:function(e,a){return e-a}},{char:"\xd7",enabled:!0,range:10,calc:function(e,a){return e*a}},{char:"\xf7",enabled:!0,range:5,calc:function(e,a){return e/a}}],J=D,F=J[0],K="",W=!1;function L(){do{var e=B(J.length);F=J[e]}while(!F.enabled);if(z=B(F.range),M=B(F.range),0===z&&(z=B(F.range)),"-"===F.char&&M>z){var a=z;z=M,M=a}if("\xf7"===F.char){for(;0===M;)M=B(F.range);z*=M}G=function(e,a,t){switch(t){case"+":return e+a;case"-":return e-a;case"\xd7":return e*a;case"\xf7":return e/a;default:return e+a}}(z,M,F.char)+"",K=""}L();var V=function(e){var a=e.player,t=e.onCorrect,n=e.onMistake,l=e.onUpdatePlayer,c=r.a.useState(),i=Object(o.a)(c,2)[1],s=r.a.useCallback((function(){return i({})}),[]);a.name!==H&&(a.operators?J=a.operators:(a.operators=D,l()),H=a.name,L()),Object(X.a)("keydown",(function(e){var a=e.key;a>=0&&a<=9&&((K+=a)===G?setTimeout((function(){t(),L(),s()}),1e3):G.startsWith(K)||(W=!0,n(),setTimeout((function(){K="",W=!1,s()}),1e3)),s())}));var u=function(e){var a=J.filter((function(e){return e.enabled})).length,t=e.target.name[0],n=J.filter((function(e){return e.char===t}))[0],r=e.target.name.substring(1);"x"===r?(a>1||!n.enabled)&&(n.enabled=!n.enabled):(n.range=parseInt(r),n.enabled=!0),L(),l(),s()};return r.a.createElement("div",{className:"exercise-wrap"},r.a.createElement(m.a,null,r.a.createElement("div",{className:"control"},r.a.createElement(Y.a,{"aria-label":"Basic example"},J.map((function(e,a){return r.a.createElement(E.a,{id:"dropdown-item-button",key:e.char,title:e.char,variant:e.enabled?"success":"outline-secondary"},r.a.createElement(v.a.Item,{as:"button",name:e.char+"x",onClick:u},C("Toggle")),r.a.createElement(v.a.Divider,null),U.map((function(a){return r.a.createElement(v.a.Item,{key:a,as:"button",active:e.range===a,name:e.char+a,onClick:u},a)})))}))))),r.a.createElement(m.a,{className:"exercise"},r.a.createElement("h1",null,z," ",F.char," ",M," =",r.a.createElement("span",{className:W?"wrong":""}," ",K))))},$=(t(88),t(63)),q=0,Q=Object(R.a)(Array(4)).map((function(e){return Array(6).fill(!1)}));var Z=function(e){var a=e.player,t=e.images,l=e.onComplete,c=e.onConfig,i=r.a.useState(),s=Object(o.a)(i,2)[1],u=r.a.useCallback((function(){return s({})}),[]),h=Object(n.useState)(t[B(t.length)]),v=Object(o.a)(h,2),E=v[0],p=v[1],g=Object(n.useState)(!0),b=Object(o.a)(g,2),y=b[0],C=b[1],k=Object(n.useState)(!0),O=Object(o.a)(k,2),j=O[0],S=O[1];0===q&&function(){for(var e=0;e<4;e++)Q[e].fill(!1)}();var w=function(){p(t[B(t.length)])};return r.a.createElement(m.a,null,r.a.createElement(d.a,null,y&&r.a.createElement(V,{player:a,onCorrect:function(){q++,function(){for(var e=B(4),a=B(6);Q[e][a];)e=B(4),a=B(6);Q[e][a]=!0}(),24===q&&(C(!1),l(),setTimeout((function(){q=0,C(!0),p(""),setTimeout((function(){w()}),1e3)}),8e3)),u()},onMistake:function(){S(!0),setTimeout((function(){S(!1)}),1e3)},onUpdatePlayer:c})),r.a.createElement(d.a,{xs:7,className:"no-padding"},r.a.createElement("div",{align:"right",className:"btn-reload"},r.a.createElement(f.a,{onClick:w,variant:"dark"},r.a.createElement($.a,null))),r.a.createElement(m.a,{className:"puzzle"},r.a.createElement(T.a,{when:j},r.a.createElement("img",{src:E,alt:"background",className:"bg"}),r.a.createElement("table",{cellSpacing:"0",className:"cells"},r.a.createElement("tbody",null,Q.map((function(e,a){return r.a.createElement("tr",{key:a},e.map((function(e,a){return r.a.createElement("td",{key:a,className:e?"revealed":""},e)})))}))))))))},_=t(36),ee=t(65),ae=t(52),te=t(64),ne=(t(89),t(58));var re,le=function(e){var a,t=e.images,n=e.onUpdate,l=e.onClose,c=function(e){var a=t.indexOf(e.target.name);t.splice(a,1),n()};return r.a.createElement(p.a,{show:!0,onHide:l,dialogClassName:"modal-90w"},r.a.createElement(p.a.Header,{closeButton:!0},r.a.createElement(p.a.Title,null,C("Images"))),r.a.createElement(p.a.Body,null,r.a.createElement(I.a,null,r.a.createElement(ne.a,null,r.a.createElement(ae.a,{className:"dir-ltr"},r.a.createElement(I.a.Control,{type:"text",placeholder:C("URL"),onChange:function(e){return a=e.target.value}}),r.a.createElement(ae.a.Append,null,r.a.createElement(f.a,{variant:"primary",onClick:function(){t.push(a),n()}},C("Add")))))),r.a.createElement(te.a,null,r.a.createElement("h3",null,C("Random Image Generators")),r.a.createElement("p",{className:"dir-ltr"},"https://picsum.photos/800/600 ",r.a.createElement("br",null),"https://source.unsplash.com/800x600",r.a.createElement("br",null),"https://loremflickr.com/800/600",r.a.createElement("br",null),"https://loremflickr.com/800/600/dog",r.a.createElement("br",null))),r.a.createElement(ee.a,null,t.map((function(e){return r.a.createElement(_.a,{key:e,style:{width:"18rem"}},r.a.createElement(_.a.Img,{variant:"top",src:e}),r.a.createElement(_.a.Body,null,r.a.createElement(_.a.Text,null,e),r.a.createElement(f.a,{variant:"primary",className:"gallery-image-remove",name:e,onClick:c},"X")))})))),r.a.createElement(p.a.Footer,null,r.a.createElement(f.a,{variant:"primary",onClick:l},C("Close"))))},ce=t(53);t(90);function oe(e){var a=document.getElementById(e);return a?window.getComputedStyle(a):null}function ie(e){var a=oe(e);return a?se(a.width,2):0}function se(e,a){return e.substr(0,e.length-a)}function ue(e,a,t){return e<=0||e>=a-t-40}var me=function(e){Object(w.a)(t,e);var a=Object(N.a)(t);function t(e){var n;Object(O.a)(this,t);return(n=a.call(this,e)).state={currentCount:0,posX:0,posY:0,rocks:[{posX:0,posY:0,dirX:1,dirY:1,size:1}]},n.onEnd=e.onClose,n}return Object(j.a)(t,[{key:"moveRocks",value:function(){if(this.state.currentCount>240&&this.state.currentCount%2===0)this.setState({currentCount:this.state.currentCount+1});else{var e=ie("bnc-screen"),a=function(e){var a=oe(e);return a?se(a.height,2):0}("bnc-screen");this.state.rocks.forEach((function(t){t.posX=t.posX+10*t.dirX,t.posY=t.posY+10*t.dirY,ue(t.posX,e,300/t.size)&&(t.dirX*=-1),ue(t.posY,a,300/t.size)&&(t.dirY*=-1)})),this.setState({currentCount:this.state.currentCount+1,rocks:this.state.rocks}),ie("bnc-screen")||clearInterval(this.intervalId)}}},{key:"componentDidMount",value:function(){this.intervalId=setInterval(this.moveRocks.bind(this),80),re=this.intervalId}},{key:"endGame",value:function(){clearInterval(re),this.onEnd()}},{key:"splitRock",value:function(e){var a=this.state.rocks,t=a[e];t&&(t.size>=4?(a.splice(e,1),0===a.length&&this.endGame()):(t.dirY*=-1,t.size*=2,this.state.rocks.push(Object(ce.a)(Object(ce.a)({},t),{},{dirY:-1*t.dirY,dirX:-1*t.dirX}))))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"bouncing-screen",id:"bnc-screen"},this.state.rocks.map((function(a,t){return r.a.createElement("div",{key:t,className:"bouncing-image",onClick:function(){return e.splitRock(t)},style:{top:a.posY+"px",left:a.posX+"px"}},r.a.createElement("img",{src:"chocolate.png",alt:"Chocolate!",style:{width:300/a.size+"px",height:300/a.size+"px"}}))})))}}]),t}(n.Component),de=["en","he"];var fe=function(e){var a=e.language,t=e.onchange,n=function(e){return t(e.target.name)};return r.a.createElement("span",{className:"inline"},r.a.createElement(E.a,{title:a,variant:"outline-secondary"},de.map((function(e){return r.a.createElement(v.a.Item,{key:e,name:e,as:"button",onClick:n},e)}))))},he=(t(91),g("players",[{name:"Player1",missions:0}])),ve=g("images",Array.from({length:10},(function(e,a){return"p"+(a+1)+".jpg"}))),Ee=!1;var pe=function(){var e=r.a.useState(),a=Object(o.a)(e,2)[1],t=r.a.useCallback((function(){return a({})}),[]),l=Object(n.useState)(he[0]),c=Object(o.a)(l,2),i=c[0],v=c[1],E=Object(n.useState)(!1),p=Object(o.a)(E,2),y=p[0],k=p[1],O=Object(n.useState)(g("images",ve)),j=Object(o.a)(O,1)[0],S=Object(n.useState)(!1),w=Object(o.a)(S,2),N=w[0],I=w[1],x=Object(n.useState)(g("language",navigator.language.substr(0,2))),R=Object(o.a)(x,2),A=R[0],T=R[1];i.missions||(i.missions=0);var X=function(){b("players",he)};return r.a.createElement("div",{className:"App"},r.a.createElement(u.a,null,r.a.createElement(m.a,null,r.a.createElement(d.a,{className:"no-padding"},r.a.createElement("span",null,r.a.createElement(f.a,{onClick:function(){return k(!0)}},r.a.createElement(h.a,null))),r.a.createElement("span",null,r.a.createElement(P,{players:he,player:i,onPlayersChange:X,onSwitchPlayer:function(e){v(he.filter((function(a){return a.name===e}))[0])}}))),r.a.createElement(d.a,null,C("Missions"),": ",i.missions||"0"),r.a.createElement(d.a,{className:"right"},r.a.createElement(fe,{language:A,onchange:function(e){T(e),b("language",e)}}))),r.a.createElement(m.a,null),r.a.createElement(Z,{player:i,images:j,onComplete:function(){Ee=!0,i.missions||(i.missions=0),i.missions++,b("players",he),i.missions%10===0&&I(!0),t(),setTimeout((function(){Ee=!1,t()}),8e3)},onConfig:X})),Ee&&r.a.createElement(s.a,null),N&&r.a.createElement(me,{onClose:function(){I(!1)}}),y&&j&&r.a.createElement(le,{images:j,onUpdate:function(){b("images",j),t()},onClose:function(){k(!1)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[73,1,2]]]);
//# sourceMappingURL=main.57f4087d.chunk.js.map