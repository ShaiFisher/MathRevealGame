(this.webpackJsonpmathreveal1=this.webpackJsonpmathreveal1||[]).push([[0],{73:function(e,a,t){e.exports=t(92)},78:function(e,a,t){},86:function(e,a,t){},88:function(e,a,t){},89:function(e,a,t){},90:function(e,a,t){},91:function(e,a,t){},92:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(16),c=t.n(l),o=(t(78),t(79),t(11)),i=t(56),s=t.n(i),u=t(66),m=t(19),d=t(18),f=t(12),h=t(67),p=t(14),E=t(42),v=t(10),g={Player:"\u05e9\u05d7\u05e7\u05df",Missions:"\u05de\u05e9\u05d9\u05de\u05d5\u05ea",Toggle:"\u05db\u05d9\u05d1\u05d5\u05d9 / \u05d4\u05e4\u05e2\u05dc\u05d4",Rename:"\u05e9\u05e0\u05d4 \u05e9\u05dd","Remove Player":"\u05d4\u05e1\u05e8 \u05e9\u05d7\u05e7\u05df","Add Player":"\u05d4\u05d5\u05e1\u05e3 \u05e9\u05d7\u05e7\u05df",Name:"\u05e9\u05dd",OK:"\u05d0\u05d9\u05e9\u05d5\u05e8",Cancel:"\u05d1\u05d9\u05d8\u05d5\u05dc","Are you sure?":"\u05d4\u05d0\u05dd \u05d0\u05ea/\u05d4 \u05d1\u05d8\u05d5/\u05d7?","Current Player":"\u05e9\u05d7\u05e7\u05df \u05e0\u05d5\u05db\u05d7\u05d9",Images:"\u05ea\u05de\u05d5\u05e0\u05d5\u05ea",Add:"\u05d4\u05d5\u05e1\u05e3",Close:"\u05e1\u05d2\u05d5\u05e8",Remove:"\u05d4\u05e1\u05e8","Random Image Generators":"\u05de\u05d7\u05d5\u05dc\u05dc\u05d9 \u05e7\u05d9\u05e9\u05d5\u05e8\u05d9\u05dd \u05dc\u05ea\u05de\u05d5\u05e0\u05d4 \u05d0\u05e7\u05e8\u05d0\u05d9\u05ea"};function b(e){return g[e]||g[e.toLowerCase()]||e}var y=function(e){var a=e.show,t=e.title,n=e.body,l=e.onConfirm,c=e.onCancel;return r.a.createElement(v.a,{show:a,onHide:c,animation:!1},r.a.createElement(v.a.Header,{closeButton:!0},r.a.createElement(v.a.Title,null,b(t))),r.a.createElement(v.a.Body,null,b(n)),r.a.createElement(v.a.Footer,null,r.a.createElement(f.a,{variant:"secondary",onClick:c},b("Cancel")),r.a.createElement(f.a,{variant:"primary",onClick:l},b("OK"))))},C=t(40),k=t(41),O=t(33),j=t(49),S=t(47),w=t(22),N=function(e){Object(j.a)(t,e);var a=Object(S.a)(t);function t(e){var n;return Object(C.a)(this,t),(n=a.call(this,e)).state={value:e.defaultValue},n.show=e.show,n.title=e.title,n.onSave=e.onSave,n.onCancel=e.onCancel,n.handleChange=n.handleChange.bind(Object(O.a)(n)),n.handleSave=n.handleSave.bind(Object(O.a)(n)),n}return Object(k.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSave",value:function(e){e.preventDefault(),this.onSave(this.state.value)}},{key:"render",value:function(){return r.a.createElement(v.a,{show:!0,onHide:this.onCancel,className:"name-modal",animation:!1},r.a.createElement(v.a.Header,{closeButton:!0},r.a.createElement(v.a.Title,null,this.title)),r.a.createElement(v.a.Body,null,r.a.createElement(w.a,null,r.a.createElement(w.a.Group,{controlId:"formGroupEmail"},r.a.createElement(w.a.Control,{type:"text",placeholder:b("Name"),value:this.state.value,onChange:this.handleChange})))),r.a.createElement(v.a.Footer,null,r.a.createElement(f.a,{variant:"secondary",onClick:this.onCancel},b("Cancel")),r.a.createElement(f.a,{variant:"primary",onClick:this.handleSave},b("OK"))))}}]),t}(r.a.Component);var I=function(e){var a=e.players,t=e.player,l=e.onPlayersChange,c=e.onSwitchPlayer,i=Object(n.useState)(!1),s=Object(o.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(!1),f=Object(o.a)(d,2),h=f[0],v=f[1],g=Object(n.useState)(!1),C=Object(o.a)(g,2),k=C[0],O=C[1],j=function(e){return c(e.target.name)};return r.a.createElement("span",{className:"inline"},r.a.createElement(E.a,{title:b("Current Player")+": "+t.name,variant:"outline-secondary"},r.a.createElement(p.a.Item,{onClick:function(){return O(!0)}},b("Rename")),r.a.createElement(p.a.Item,{onClick:function(){a.length>1&&v(!0)}},b("Remove Player")),r.a.createElement(p.a.Item,{onClick:function(){return m(!0)}},b("Add Player")),r.a.createElement(p.a.Divider,null),a.map((function(e){return r.a.createElement(p.a.Item,{key:e.name,name:e.name,as:"button",onClick:j},e.name)}))),u&&r.a.createElement(N,{show:u,title:b("Add Player"),onCancel:function(){return m(!1)},onSave:function(e){e&&(a.push({name:e,missions:0}),l(),c(e),m(!1))}}),k&&r.a.createElement(N,{title:b("Rename")+" - "+t.name,defaultValue:t.name,onCancel:function(){return O(!1)},onSave:function(e){e&&(t.name=e,l(),O(!1))}}),r.a.createElement(y,{show:h,title:b("Remove Player")+" - "+t.name,body:b("Are you sure?"),onConfirm:function(){if(a.length>1){var e=a.indexOf(t);a.splice(e,1),c(a[0].name),l(),v(!1)}},onCancel:function(){return v(!1)}}))},x=t(69),P=t(60),R=t.n(P),A=(t(86),t(61)),T=t(62);function X(e){return Math.floor(Math.random()*e)}var Y,B,z,M,G=[5,10,20,50],H=[{char:"+",enabled:!0,range:50,calc:function(e,a){return e+a}},{char:"-",enabled:!0,range:20,calc:function(e,a){return e-a}},{char:"\xd7",enabled:!0,range:10,calc:function(e,a){return e*a}},{char:"\xf7",enabled:!0,range:5,calc:function(e,a){return e/a}}],U=H,D=U[0],J="",F=!1;function K(){do{var e=X(U.length);D=U[e]}while(!D.enabled);if(Y=X(D.range),B=X(D.range),0===Y&&(Y=X(D.range)),"-"===D.char&&B>Y){var a=Y;Y=B,B=a}if("\xf7"===D.char){for(;0===B;)B=X(D.range);Y*=B}z=function(e,a,t){switch(t){case"+":return e+a;case"-":return e-a;case"\xd7":return e*a;case"\xf7":return e/a;default:return e+a}}(Y,B,D.char)+"",J=""}K();var W=function(e){var a=e.player,t=e.onCorrect,n=e.onMistake,l=e.onUpdatePlayer,c=r.a.useState(),i=Object(o.a)(c,2)[1],s=r.a.useCallback((function(){return i({})}),[]);a.name!==M&&(a.operators?U=a.operators:(a.operators=H,l()),M=a.name,K()),Object(A.a)("keydown",(function(e){var a=e.key;a>=0&&a<=9&&((J+=a)===z?setTimeout((function(){t(),K(),s()}),1e3):z.startsWith(J)||(F=!0,n(),setTimeout((function(){J="",F=!1,s()}),1e3)),s())}));var u=function(e){var a=U.filter((function(e){return e.enabled})).length,t=e.target.name[0],n=U.filter((function(e){return e.char===t}))[0],r=e.target.name.substring(1);"x"===r?(a>1||!n.enabled)&&(n.enabled=!n.enabled):(n.range=parseInt(r),n.enabled=!0),K(),l(),s()};return r.a.createElement("div",{className:"exercise-wrap"},r.a.createElement(m.a,null,r.a.createElement("div",{className:"control"},r.a.createElement(T.a,{"aria-label":"Basic example"},U.map((function(e,a){return r.a.createElement(E.a,{id:"dropdown-item-button",key:e.char,title:e.char,variant:e.enabled?"success":"outline-secondary"},r.a.createElement(p.a.Item,{as:"button",name:e.char+"x",onClick:u},b("Toggle")),r.a.createElement(p.a.Divider,null),G.map((function(a){return r.a.createElement(p.a.Item,{key:a,as:"button",active:e.range===a,name:e.char+a,onClick:u},a)})))}))))),r.a.createElement(m.a,{className:"exercise"},r.a.createElement("h1",null,Y," ",D.char," ",B," =",r.a.createElement("span",{className:F?"wrong":""}," ",J))))},L=(t(88),t(63)),V=0,$=Object(x.a)(Array(4)).map((function(e){return Array(6).fill(!1)}));var q=function(e){var a=e.player,t=e.images,l=e.onComplete,c=e.onConfig,i=r.a.useState(),s=Object(o.a)(i,2)[1],u=r.a.useCallback((function(){return s({})}),[]),h=Object(n.useState)(t[X(t.length)]),p=Object(o.a)(h,2),E=p[0],v=p[1],g=Object(n.useState)(!0),b=Object(o.a)(g,2),y=b[0],C=b[1],k=Object(n.useState)(!0),O=Object(o.a)(k,2),j=O[0],S=O[1];0===V&&function(){for(var e=0;e<4;e++)$[e].fill(!1)}();var w=function(){v(t[X(t.length)])};return r.a.createElement(m.a,null,r.a.createElement(d.a,null,y&&r.a.createElement(W,{player:a,onCorrect:function(){V++,function(){for(var e=X(4),a=X(6);$[e][a];)e=X(4),a=X(6);$[e][a]=!0}(),24===V&&(C(!1),l(),setTimeout((function(){V=0,C(!0),v(""),setTimeout((function(){w()}),1e3)}),8e3)),u()},onMistake:function(){S(!0),setTimeout((function(){S(!1)}),1e3)},onUpdatePlayer:c})),r.a.createElement(d.a,{xs:7,className:"no-padding"},r.a.createElement("div",{align:"right",className:"btn-reload"},r.a.createElement(f.a,{onClick:w,variant:"dark"},r.a.createElement(L.a,null))),r.a.createElement(m.a,{className:"puzzle"},r.a.createElement(R.a,{when:j},r.a.createElement("img",{src:E,alt:"background",className:"bg"}),r.a.createElement("table",{cellSpacing:"0",className:"cells"},r.a.createElement("tbody",null,$.map((function(e,a){return r.a.createElement("tr",{key:a},e.map((function(e,a){return r.a.createElement("td",{key:a,className:e?"revealed":""},e)})))}))))))))},Q=t(35),Z=t(65),_=t(52),ee=t(64),ae=(t(89),t(58));var te=function(e){var a,t=e.images,n=e.onUpdate,l=e.onClose,c=function(e){var a=t.indexOf(e.target.name);t.splice(a,1),n()};return r.a.createElement(v.a,{show:!0,onHide:l,dialogClassName:"modal-90w"},r.a.createElement(v.a.Header,{closeButton:!0},r.a.createElement(v.a.Title,null,b("Images"))),r.a.createElement(v.a.Body,null,r.a.createElement(w.a,null,r.a.createElement(ae.a,null,r.a.createElement(_.a,{className:"dir-ltr"},r.a.createElement(w.a.Control,{type:"text",placeholder:b("URL"),onChange:function(e){return a=e.target.value}}),r.a.createElement(_.a.Append,null,r.a.createElement(f.a,{variant:"primary",onClick:function(){t.push(a),n()}},b("Add")))))),r.a.createElement(ee.a,null,r.a.createElement("h3",null,b("Random Image Generators")),r.a.createElement("p",{className:"dir-ltr"},"https://picsum.photos/800/600 ",r.a.createElement("br",null),"https://source.unsplash.com/800x600",r.a.createElement("br",null),"https://loremflickr.com/800/600",r.a.createElement("br",null),"https://loremflickr.com/800/600/dog",r.a.createElement("br",null))),r.a.createElement(Z.a,null,t.map((function(e){return r.a.createElement(Q.a,{key:e,style:{width:"18rem"}},r.a.createElement(Q.a.Img,{variant:"top",src:e}),r.a.createElement(Q.a.Body,null,r.a.createElement(Q.a.Text,null,e),r.a.createElement(f.a,{variant:"primary",className:"gallery-image-remove",name:e,onClick:c},"X")))})))),r.a.createElement(v.a.Footer,null,r.a.createElement(f.a,{variant:"primary",onClick:l},b("Close"))))};function ne(e,a){var t=localStorage.getItem(e);return t?JSON.parse(t):a}function re(e,a){localStorage.setItem(e,JSON.stringify(a))}t(90);var le,ce=t(53);t(91);function oe(e){var a=document.getElementById(e);return a?window.getComputedStyle(a):null}function ie(e){var a=oe(e);return a?se(a.width,2):0}function se(e,a){return e.substr(0,e.length-a)}function ue(e,a,t){return e<=0||e>=a-t-40}var me=function(e){Object(j.a)(t,e);var a=Object(S.a)(t);function t(e){var n;Object(C.a)(this,t);return(n=a.call(this,e)).state={currentCount:0,posX:0,posY:0,rocks:[{posX:0,posY:0,dirX:1,dirY:1,size:1}]},n.onEnd=e.onClose,n}return Object(k.a)(t,[{key:"moveRocks",value:function(){if(this.state.currentCount>240&&this.state.currentCount%2===0)this.setState({currentCount:this.state.currentCount+1});else{var e=ie("bnc-screen"),a=function(e){var a=oe(e);return a?se(a.height,2):0}("bnc-screen");this.state.rocks.forEach((function(t){t.posX=t.posX+10*t.dirX,t.posY=t.posY+10*t.dirY,ue(t.posX,e,300/t.size)&&(t.dirX*=-1),ue(t.posY,a,300/t.size)&&(t.dirY*=-1)})),this.setState({currentCount:this.state.currentCount+1,rocks:this.state.rocks}),ie("bnc-screen")||clearInterval(this.intervalId)}}},{key:"componentDidMount",value:function(){this.intervalId=setInterval(this.moveRocks.bind(this),80),le=this.intervalId}},{key:"endGame",value:function(){clearInterval(le),this.onEnd()}},{key:"splitRock",value:function(e){var a=this.state.rocks,t=a[e];t&&(t.size>=4?(a.splice(e,1),0===a.length&&this.endGame()):(t.dirY*=-1,t.size*=2,this.state.rocks.push(Object(ce.a)(Object(ce.a)({},t),{},{dirY:-1*t.dirY,dirX:-1*t.dirX}))))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"bouncing-screen",id:"bnc-screen"},this.state.rocks.map((function(a,t){return r.a.createElement("div",{key:t,className:"bouncing-image",onClick:function(){return e.splitRock(t)},style:{top:a.posY+"px",left:a.posX+"px"}},r.a.createElement("img",{src:"chocolate.png",alt:"Chocolate!",style:{width:300/a.size+"px",height:300/a.size+"px"}}))})))}}]),t}(n.Component),de=ne("players",[{name:"Player1",missions:0}]),fe=ne("images",Array.from({length:10},(function(e,a){return"p"+(a+1)+".jpg"}))),he=!1;var pe=function(){var e=r.a.useState(),a=Object(o.a)(e,2)[1],t=r.a.useCallback((function(){return a({})}),[]),l=Object(n.useState)(de[0]),c=Object(o.a)(l,2),i=c[0],p=c[1],E=Object(n.useState)(!1),v=Object(o.a)(E,2),g=v[0],y=v[1],C=Object(n.useState)(ne("images",fe)),k=Object(o.a)(C,1)[0],O=Object(n.useState)(!1),j=Object(o.a)(O,2),S=j[0],w=j[1];i.missions||(i.missions=0);var N=function(){re("players",de)};return r.a.createElement("div",{className:"App"},r.a.createElement(u.a,null,r.a.createElement(m.a,null,r.a.createElement(d.a,{className:"no-padding"},r.a.createElement("span",null,r.a.createElement(f.a,{onClick:function(){return y(!0)}},r.a.createElement(h.a,null))),r.a.createElement("span",null,r.a.createElement(I,{players:de,player:i,onPlayersChange:N,onSwitchPlayer:function(e){p(de.filter((function(a){return a.name===e}))[0])}}))),r.a.createElement(d.a,null,b("Missions"),": ",i.missions||"0"),r.a.createElement(d.a,null)),r.a.createElement(m.a,null),r.a.createElement(q,{player:i,images:k,onComplete:function(){he=!0,i.missions||(i.missions=0),i.missions++,re("players",de),i.missions%10===0&&w(!0),t(),setTimeout((function(){he=!1,t()}),8e3)},onConfig:N})),he&&r.a.createElement(s.a,null),S&&r.a.createElement(me,{onClose:function(){w(!1)}}),g&&k&&r.a.createElement(te,{images:k,onUpdate:function(){re("images",k),t()},onClose:function(){y(!1)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[73,1,2]]]);
//# sourceMappingURL=main.89cac55d.chunk.js.map